<!Doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>a</title>
        <style type="text/css">
            canvas{
                border: 1px solid gray;
            }
        </style>
    </head>
    <body>

        <canvas id="main" width="500px" height="500px"></canvas>

        <a href="javascript:;" id="trigger">trigger</a>

        <script type="text/javascript">
            var ce = document.getElementById('main');
            var ctx = ce.getContext("2d");

            ctx.fillStyle = "black";
            ctx.fillRect(10, 10, 200, 200);
            ctx.save();
            ctx.beginPath();

            ctx.rect(0, 0, 50, 50);
            ctx.clip();

            ctx.beginPath();
            ctx.strokeStyle = "red";
            ctx.lineWidth = 5;
            ctx.arc(100, 100, 100, (Math.PI / 180) * 0, (Math.PI / 180) * 360, false);

            ctx.stroke();
            ctx.closePath();

            // 恢复到没有裁剪的上下文
            ctx.restore();

            ctx.beginPath();
            ctx.rect(0, 0, 500, 500);
            ctx.clip();

            ctx.beginPath();
            ctx.strokeStyle="blue";
            ctx.lineWidth=5;
            ctx.arc(100, 100, 50, (Math.PI / 180) * 0, (Math.PI / 180) * 360, false);

            // ctx.stroke();
            // ctx.closePath();
        </script>
    </body>
</html>